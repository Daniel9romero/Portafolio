const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/map-vendor-CymvPLem.js","assets/react-vendor-CneJa7V4.js","assets/ui-vendor-BjzRHxb2.js","assets/index-Cm2zevuF.js","assets/three-vendor-DmpYsN6D.js","assets/charts-DiKlEIGq.js","assets/index-D2LK5Eto.css","assets/georaster.browser.bundle.min-DGhCEptZ.js","assets/georaster.browser.bundle.min-1RVItgQw.js","assets/georaster-layer-for-leaflet-pegJW_Rw.js"])))=>i.map(i=>d[i]);
import{_ as G}from"./three-vendor-DmpYsN6D.js";import{W as Ie,j as e,Y as Fe,Z as Ve,$ as I,a0 as $,a1 as F,a2 as Ze,a3 as ze,a4 as Oe,a5 as fe,a6 as he,a7 as be,m as O,y as de,a8 as me,s as q,q as Ke,a9 as $e,H as He,aa as Ge,ab as ue,C as xe,A as J,ac as pe,ad as Ue,X as Xe}from"./ui-vendor-BjzRHxb2.js";import{a as i,u as We}from"./react-vendor-CneJa7V4.js";import{c as U,B as K,C as P,a as M,b as Q,d as ee,e as ge,f as Ye}from"./index-Cm2zevuF.js";import"./charts-DiKlEIGq.js";function je(a,[s,t]){return Math.min(t,Math.max(s,a))}function qe(a){const s=i.useRef({value:a,previous:a});return i.useMemo(()=>(s.current.value!==a&&(s.current.previous=s.current.value,s.current.value=a),s.current.previous),[a])}var ve=["PageUp","PageDown"],ye=["ArrowUp","ArrowDown","ArrowLeft","ArrowRight"],Ne={"from-left":["Home","PageDown","ArrowDown","ArrowLeft"],"from-right":["Home","PageDown","ArrowDown","ArrowRight"],"from-bottom":["Home","PageDown","ArrowDown","ArrowLeft"],"from-top":["Home","PageDown","ArrowUp","ArrowLeft"]},V="Slider",[se,Je,Qe]=Ve(V),[Se]=Fe(V,[Qe]),[ea,X]=Se(V),we=i.forwardRef((a,s)=>{const{name:t,min:n=0,max:c=100,step:u=1,orientation:d="horizontal",disabled:m=!1,minStepsBetweenThumbs:f=0,defaultValue:N=[n],value:l,onValueChange:o=()=>{},onValueCommit:p=()=>{},inverted:y=!1,form:v,...b}=a,x=i.useRef(new Set),g=i.useRef(0),S=d==="horizontal"?aa:sa,[j=[],D]=Ie({prop:l,defaultProp:N,onChange:w=>{[...x.current][g.current]?.focus(),o(w)}}),r=i.useRef(j);function h(w){const L=oa(j,w);C(w,L)}function A(w){C(w,g.current)}function W(){const w=r.current[g.current];j[g.current]!==w&&p(j)}function C(w,L,{commit:B}={commit:!1}){const Y=ma(u),Z=ua(Math.round((w-n)/u)*u+n,Y),_=je(Z,[n,c]);D((k=[])=>{const T=na(k,_,L);if(da(T,f*u)){g.current=T.indexOf(_);const H=String(T)!==String(k);return H&&B&&p(T),H?T:k}else return k})}return e.jsx(ea,{scope:a.__scopeSlider,name:t,disabled:m,min:n,max:c,valueIndexToChangeRef:g,thumbs:x.current,values:j,orientation:d,form:v,children:e.jsx(se.Provider,{scope:a.__scopeSlider,children:e.jsx(se.Slot,{scope:a.__scopeSlider,children:e.jsx(S,{"aria-disabled":m,"data-disabled":m?"":void 0,...b,ref:s,onPointerDown:I(b.onPointerDown,()=>{m||(r.current=j)}),min:n,max:c,inverted:y,onSlideStart:m?void 0:h,onSlideMove:m?void 0:A,onSlideEnd:m?void 0:W,onHomeKeyDown:()=>!m&&C(n,0,{commit:!0}),onEndKeyDown:()=>!m&&C(c,j.length-1,{commit:!0}),onStepKeyDown:({event:w,direction:L})=>{if(!m){const Z=ve.includes(w.key)||w.shiftKey&&ye.includes(w.key)?10:1,_=g.current,k=j[_],T=u*Z*L;C(k+T,_,{commit:!0})}}})})})})});we.displayName=V;var[Ce,Ee]=Se(V,{startEdge:"left",endEdge:"right",size:"width",direction:1}),aa=i.forwardRef((a,s)=>{const{min:t,max:n,dir:c,inverted:u,onSlideStart:d,onSlideMove:m,onSlideEnd:f,onStepKeyDown:N,...l}=a,[o,p]=i.useState(null),y=F(s,S=>p(S)),v=i.useRef(void 0),b=Ze(c),x=b==="ltr",g=x&&!u||!x&&u;function E(S){const j=v.current||o.getBoundingClientRect(),D=[0,j.width],h=oe(D,g?[t,n]:[n,t]);return v.current=j,h(S-j.left)}return e.jsx(Ce,{scope:a.__scopeSlider,startEdge:g?"left":"right",endEdge:g?"right":"left",direction:g?1:-1,size:"width",children:e.jsx(Re,{dir:b,"data-orientation":"horizontal",...l,ref:y,style:{...l.style,"--radix-slider-thumb-transform":"translateX(-50%)"},onSlideStart:S=>{const j=E(S.clientX);d?.(j)},onSlideMove:S=>{const j=E(S.clientX);m?.(j)},onSlideEnd:()=>{v.current=void 0,f?.()},onStepKeyDown:S=>{const D=Ne[g?"from-left":"from-right"].includes(S.key);N?.({event:S,direction:D?-1:1})}})})}),sa=i.forwardRef((a,s)=>{const{min:t,max:n,inverted:c,onSlideStart:u,onSlideMove:d,onSlideEnd:m,onStepKeyDown:f,...N}=a,l=i.useRef(null),o=F(s,l),p=i.useRef(void 0),y=!c;function v(b){const x=p.current||l.current.getBoundingClientRect(),g=[0,x.height],S=oe(g,y?[n,t]:[t,n]);return p.current=x,S(b-x.top)}return e.jsx(Ce,{scope:a.__scopeSlider,startEdge:y?"bottom":"top",endEdge:y?"top":"bottom",size:"height",direction:y?1:-1,children:e.jsx(Re,{"data-orientation":"vertical",...N,ref:o,style:{...N.style,"--radix-slider-thumb-transform":"translateY(50%)"},onSlideStart:b=>{const x=v(b.clientY);u?.(x)},onSlideMove:b=>{const x=v(b.clientY);d?.(x)},onSlideEnd:()=>{p.current=void 0,m?.()},onStepKeyDown:b=>{const g=Ne[y?"from-bottom":"from-top"].includes(b.key);f?.({event:b,direction:g?-1:1})}})})}),Re=i.forwardRef((a,s)=>{const{__scopeSlider:t,onSlideStart:n,onSlideMove:c,onSlideEnd:u,onHomeKeyDown:d,onEndKeyDown:m,onStepKeyDown:f,...N}=a,l=X(V,t);return e.jsx($.span,{...N,ref:s,onKeyDown:I(a.onKeyDown,o=>{o.key==="Home"?(d(o),o.preventDefault()):o.key==="End"?(m(o),o.preventDefault()):ve.concat(ye).includes(o.key)&&(f(o),o.preventDefault())}),onPointerDown:I(a.onPointerDown,o=>{const p=o.target;p.setPointerCapture(o.pointerId),o.preventDefault(),l.thumbs.has(p)?p.focus():n(o)}),onPointerMove:I(a.onPointerMove,o=>{o.target.hasPointerCapture(o.pointerId)&&c(o)}),onPointerUp:I(a.onPointerUp,o=>{const p=o.target;p.hasPointerCapture(o.pointerId)&&(p.releasePointerCapture(o.pointerId),u(o))})})}),Le="SliderTrack",Te=i.forwardRef((a,s)=>{const{__scopeSlider:t,...n}=a,c=X(Le,t);return e.jsx($.span,{"data-disabled":c.disabled?"":void 0,"data-orientation":c.orientation,...n,ref:s})});Te.displayName=Le;var te="SliderRange",ke=i.forwardRef((a,s)=>{const{__scopeSlider:t,...n}=a,c=X(te,t),u=Ee(te,t),d=i.useRef(null),m=F(s,d),f=c.values.length,N=c.values.map(p=>De(p,c.min,c.max)),l=f>1?Math.min(...N):0,o=100-Math.max(...N);return e.jsx($.span,{"data-orientation":c.orientation,"data-disabled":c.disabled?"":void 0,...n,ref:m,style:{...a.style,[u.startEdge]:l+"%",[u.endEdge]:o+"%"}})});ke.displayName=te;var re="SliderThumb",Pe=i.forwardRef((a,s)=>{const t=Je(a.__scopeSlider),[n,c]=i.useState(null),u=F(s,m=>c(m)),d=i.useMemo(()=>n?t().findIndex(m=>m.ref.current===n):-1,[t,n]);return e.jsx(ta,{...a,ref:u,index:d})}),ta=i.forwardRef((a,s)=>{const{__scopeSlider:t,index:n,name:c,...u}=a,d=X(re,t),m=Ee(re,t),[f,N]=i.useState(null),l=F(s,E=>N(E)),o=f?d.form||!!f.closest("form"):!0,p=ze(f),y=d.values[n],v=y===void 0?0:De(y,d.min,d.max),b=ia(n,d.values.length),x=p?.[m.size],g=x?la(x,v,m.direction):0;return i.useEffect(()=>{if(f)return d.thumbs.add(f),()=>{d.thumbs.delete(f)}},[f,d.thumbs]),e.jsxs("span",{style:{transform:"var(--radix-slider-thumb-transform)",position:"absolute",[m.startEdge]:`calc(${v}% + ${g}px)`},children:[e.jsx(se.ItemSlot,{scope:a.__scopeSlider,children:e.jsx($.span,{role:"slider","aria-label":a["aria-label"]||b,"aria-valuemin":d.min,"aria-valuenow":y,"aria-valuemax":d.max,"aria-orientation":d.orientation,"data-orientation":d.orientation,"data-disabled":d.disabled?"":void 0,tabIndex:d.disabled?void 0:0,...u,ref:l,style:y===void 0?{display:"none"}:a.style,onFocus:I(a.onFocus,()=>{d.valueIndexToChangeRef.current=n})})}),o&&e.jsx(Me,{name:c??(d.name?d.name+(d.values.length>1?"[]":""):void 0),form:d.form,value:y},n)]})});Pe.displayName=re;var ra="RadioBubbleInput",Me=i.forwardRef(({__scopeSlider:a,value:s,...t},n)=>{const c=i.useRef(null),u=F(c,n),d=qe(s);return i.useEffect(()=>{const m=c.current;if(!m)return;const f=window.HTMLInputElement.prototype,l=Object.getOwnPropertyDescriptor(f,"value").set;if(d!==s&&l){const o=new Event("input",{bubbles:!0});l.call(m,s),m.dispatchEvent(o)}},[d,s]),e.jsx($.input,{style:{display:"none"},...t,ref:u,defaultValue:s})});Me.displayName=ra;function na(a=[],s,t){const n=[...a];return n[t]=s,n.sort((c,u)=>c-u)}function De(a,s,t){const u=100/(t-s)*(a-s);return je(u,[0,100])}function ia(a,s){return s>2?`Value ${a+1} of ${s}`:s===2?["Minimum","Maximum"][a]:void 0}function oa(a,s){if(a.length===1)return 0;const t=a.map(c=>Math.abs(c-s)),n=Math.min(...t);return t.indexOf(n)}function la(a,s,t){const n=a/2,u=oe([0,50],[0,n]);return(n-u(s)*t)*t}function ca(a){return a.slice(0,-1).map((s,t)=>a[t+1]-s)}function da(a,s){if(s>0){const t=ca(a);return Math.min(...t)>=s}return!0}function oe(a,s){return t=>{if(a[0]===a[1]||s[0]===s[1])return s[0];const n=(s[1]-s[0])/(a[1]-a[0]);return s[0]+n*(t-a[0])}}function ma(a){return(String(a).split(".")[1]||"").length}function ua(a,s){const t=Math.pow(10,s);return Math.round(a*t)/t}var _e=we,xa=Te,pa=ke,ga=Pe;const Ae=i.forwardRef(({className:a,...s},t)=>e.jsxs(_e,{ref:t,className:U("relative flex w-full touch-none select-none items-center",a),...s,children:[e.jsx(xa,{className:"relative h-1.5 w-full grow overflow-hidden rounded-full bg-primary/20",children:e.jsx(pa,{className:"absolute h-full bg-primary"})}),e.jsx(ga,{className:"block h-4 w-4 rounded-full border border-primary/50 bg-background shadow transition-colors focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:pointer-events-none disabled:opacity-50"})]}));Ae.displayName=_e.displayName;const fa=Oe,Be=i.forwardRef(({className:a,...s},t)=>e.jsx(fe,{ref:t,className:U("inline-flex h-9 items-center justify-center rounded-lg bg-muted p-1 text-muted-foreground",a),...s}));Be.displayName=fe.displayName;const ne=i.forwardRef(({className:a,...s},t)=>e.jsx(he,{ref:t,className:U("inline-flex items-center justify-center whitespace-nowrap rounded-md px-3 py-1 text-sm font-medium ring-offset-background transition-all focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 data-[state=active]:bg-background data-[state=active]:text-foreground data-[state=active]:shadow",a),...s}));ne.displayName=he.displayName;const ie=i.forwardRef(({className:a,...s},t)=>e.jsx(be,{ref:t,className:U("mt-2 ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2",a),...s}));ie.displayName=be.displayName;const ae=[{id:1,code:"LCZ 1",name:"Compacto Gran Altura",nameEn:"Compact High-rise",color:"#8B0000",type:"urban",image:"lcz-fotos/LCZ1.jpg",area:338.4,percentage:13.5,f1Score:.9,precision:84,recall:96.9,pixels:376031,height:">25m",density:"40-60%",description:"Mezcla densa de edificios altos (+25m). Distrito financiero y comercial de alta densidad.",climate:"Alta absorción solar, retención térmica nocturna significativa, isla de calor intensa.",examples:"Corredor Reforma-Polanco, Santa Fe"},{id:2,code:"LCZ 2",name:"Compacto Altura Media",nameEn:"Compact Midrise",color:"#CC0000",type:"urban",image:"lcz-fotos/LCZ2.jpg",area:227.2,percentage:9.1,f1Score:.71,precision:78.6,recall:64.7,pixels:252456,height:"10-25m",density:"40-70%",description:"Edificios de 3-9 pisos con configuración densa. Zonas residenciales consolidadas.",climate:"Temperatura superficial alta, retención térmica moderada-alta.",examples:"Centro Histórico, Roma Norte, Doctores"},{id:3,code:"LCZ 3",name:"Compacto Baja Altura",nameEn:"Compact Low-rise",color:"#FF0000",type:"urban",image:"lcz-fotos/LCZ3.png",area:183.5,percentage:7.3,f1Score:.83,precision:84.2,recall:82.1,pixels:203863,height:"3-10m",density:"40-70%",description:"Estructuras de 1-3 pisos densamente agrupadas. Barrios tradicionales.",climate:"Calentamiento diurno significativo, enfriamiento nocturno más rápido.",examples:"Tepito, La Merced, colonias populares"},{id:4,code:"LCZ 4",name:"Abierto Gran Altura",nameEn:"Open High-rise",color:"#FF6600",type:"urban",image:"lcz-fotos/LCZ4.png",area:125.4,percentage:5,f1Score:.84,precision:78.4,recall:90.9,pixels:139349,height:">25m",density:"20-40%",description:"Torres aisladas con amplios espacios verdes entre edificios.",climate:"Menor intensidad térmica, mejor ventilación, enfriamiento por vegetación.",examples:"Tlatelolco, Torres de Mixcoac"},{id:5,code:"LCZ 5",name:"Abierto Altura Media",nameEn:"Open Midrise",color:"#FF9900",type:"urban",image:"lcz-fotos/LCZ5.jpg",area:232.2,percentage:9.3,f1Score:.92,precision:93.1,recall:90,pixels:258004,height:"10-25m",density:"20-40%",description:"Balance entre superficie construida y espacios abiertos. MEJOR DESEMPEÑO urbano.",climate:"Temperatura moderada, enfriamiento evapotranspirativo significativo.",examples:"Unidades habitacionales modernas, Coyoacán"},{id:6,code:"LCZ 6",name:"Abierto Baja Altura",nameEn:"Open Low-rise",color:"#FFCC00",type:"urban",image:"lcz-fotos/LCZ6.jpg",area:41.8,percentage:1.7,f1Score:.73,precision:76.2,recall:69.6,pixels:46467,height:"3-10m",density:"20-40%",description:"Viviendas unifamiliares con jardines. Suburbio residencial típico.",climate:"Temperatura superficial baja, alto potencial de enfriamiento.",examples:"Pedregal, Jardines del Pedregal"},{id:7,code:"LCZ 7",name:"Ligero Baja Altura",nameEn:"Lightweight Low-rise",color:"#FFFF00",type:"urban",image:"lcz-fotos/LCZ7.jpg",area:105.1,percentage:4.2,f1Score:.92,precision:88.6,recall:95.1,pixels:116788,height:"2-4m",density:"60-90%",description:"Estructuras ligeras: mercados, asentamientos informales. Materiales variables.",climate:"Alta reflectancia metálica, calentamiento/enfriamiento rápido.",examples:"Asentamientos informales, mercados sobre ruedas"},{id:8,code:"LCZ 8",name:"Grande Baja Altura",nameEn:"Large Low-rise",color:"#99CC00",type:"urban",image:"lcz-fotos/LCZ8.jpg",area:122,percentage:4.9,f1Score:.81,precision:75,recall:88.9,pixels:135599,height:"3-10m",density:"30-50%",description:"Naves industriales, centros comerciales, bodegas. MAYORES intensidades de isla de calor.",climate:"Grandes superficies absorbentes, mínima vegetación. Prioridad mitigación.",examples:"Central de Abastos, Zona Industrial Vallejo"},{id:9,code:"LCZ 9",name:"Escasamente Construido",nameEn:"Sparsely Built",color:"#669900",type:"urban",image:"lcz-fotos/LCZ9.jpg",area:9.6,percentage:.4,f1Score:.13,precision:33.3,recall:7.7,pixels:10713,height:"3-10m",density:"10-20%",description:"Disposición dispersa en entorno natural. PEOR DESEMPEÑO de clasificación.",climate:"Transición urbano-rural, microclimas muy variables.",examples:"Periferias, Xochimilco disperso, Milpa Alta"},{id:"A",code:"LCZ A",name:"Árboles Densos",nameEn:"Dense Trees",color:"#006600",type:"natural",image:"lcz-fotos/LCZA.png",area:541.2,percentage:21.6,f1Score:.89,precision:85.7,recall:91.5,pixels:601280,height:">10m",coverage:">90%",description:"Bosque denso. CLASE MÁS EXTENSA del estudio (21.6% del territorio).",climate:"ENFRIAMIENTO MÁXIMO, efecto evapotranspirativo, sombra continua.",examples:"Desierto de los Leones, Ajusco, Bosque de Tlalpan"},{id:"B",code:"LCZ B",name:"Árboles Dispersos",nameEn:"Scattered Trees",color:"#009900",type:"natural",image:"lcz-fotos/B.png",area:70.2,percentage:2.8,f1Score:.71,precision:61.5,recall:84.2,pixels:78036,height:">10m",coverage:"30-60%",description:"Bosque abierto con cobertura de dosel entre 30-60%.",climate:"Enfriamiento significativo, variabilidad térmica moderada.",examples:"Chapultepec, Parque Hundido"},{id:"C",code:"LCZ C",name:"Arbustos",nameEn:"Bush/Scrub",color:"#66CC00",type:"natural",image:"lcz-fotos/C.png",area:100.8,percentage:4,f1Score:.91,precision:97.4,recall:86,pixels:112042,height:"<2m",coverage:">90%",description:"Vegetación arbustiva y matorrales. Zonas de transición ecológica.",climate:"Enfriamiento moderado, sensible a cambios estacionales.",examples:"Laderas del Ajusco, vegetación secundaria"},{id:"D",code:"LCZ D",name:"Plantas Bajas",nameEn:"Low Plants",color:"#99FF00",type:"natural",image:"lcz-fotos/D.png",area:161.7,percentage:6.5,f1Score:.86,precision:87.8,recall:83.7,pixels:179645,height:"<1m",coverage:">90%",description:"Pastizal, agricultura urbana, parques de césped.",climate:"Enfriamiento por evapotranspiración, alta variabilidad estacional.",examples:"Campos deportivos, chinampas, zonas agrícolas"},{id:"E",code:"LCZ E",name:"Roca/Pavimento",nameEn:"Bare Rock/Paved",color:"#999999",type:"natural",image:"lcz-fotos/E.png",area:21.5,percentage:.9,f1Score:.87,precision:100,recall:76.7,pixels:23933,coverage:"<10%",description:"Roca expuesta o pavimento. Sin vegetación.",climate:"Calentamiento diurno extremo, enfriamiento nocturno rápido.",examples:"AICM, grandes estacionamientos, autopistas"},{id:"F",code:"LCZ F",name:"Suelo Desnudo",nameEn:"Bare Soil/Sand",color:"#CC9966",type:"natural",image:"lcz-fotos/F.jpg",area:179.1,percentage:7.2,f1Score:.76,precision:81.3,recall:72.2,pixels:198981,coverage:"<10%",description:"Suelo o arena expuesta. Terrenos baldíos, áreas en construcción.",climate:"Calentamiento diurno significativo, sin efecto evaporativo.",examples:"Terrenos baldíos, zonas degradadas"},{id:"G",code:"LCZ G",name:"Agua",nameEn:"Water",color:"#0066FF",type:"natural",image:"lcz-fotos/G.jpg",area:43.9,percentage:1.8,f1Score:.89,precision:100,recall:79.4,pixels:48800,description:"Cuerpos de agua superficiales. MÁXIMO EFECTO REGULADOR térmico.",climate:"Alta inercia térmica, temperatura estable, enfriamiento por evaporación.",examples:"Lago de Xochimilco, canales, presas"}],ha=[{name:"Gradient Tree Boost",accuracy:83.65,kappa:.824,rank:1,stars:5,status:"Óptimo",color:"text-green-600"},{name:"Random Forest",accuracy:80.21,kappa:.787,rank:2,stars:4,status:"Excelente",color:"text-blue-600"},{name:"CART",accuracy:70.22,kappa:.679,rank:3,stars:3,status:"Aceptable",color:"text-yellow-600"},{name:"Minimum Distance",accuracy:46.3,kappa:.425,rank:4,stars:2,status:"Limitado",color:"text-orange-600"},{name:"Naive Bayes",accuracy:45.27,kappa:.414,rank:5,stars:2,status:"Limitado",color:"text-orange-600"},{name:"SVM (RBF)",accuracy:17.56,kappa:.075,rank:6,stars:1,status:"Inadecuado",color:"text-red-600"}],R={satellite:"Landsat 9 OLI-2 TIRS-2",resolution:"30 metros",period:"Dic 2023 - Abr 2025",area:"2,226 km²",images:"47 imágenes bienales",samples:"1,949 polígonos (~58,470 píxeles)",validation:"70% entrenamiento / 30% validación",bands:["SR_B1 (Aerosol)","SR_B2 (Azul)","SR_B3 (Verde)","SR_B4 (Rojo)","SR_B5 (NIR)","SR_B6 (SWIR1)","SR_B7 (SWIR2)","ST_B10 (Térmico)"],indices:["NDVI (Vegetación)","NDBI (Construcción)","NDWI (Agua)","BSI (Suelo)","UI (Urbano)"],topography:["Elevación SRTM","Pendiente","Aspecto"],totalVariables:16};function Sa(){const{t:a}=We(),s=i.useRef(null),t=i.useRef(null),n=i.useRef(null),[c,u]=i.useState(!0),[d,m]=i.useState(!0),[f,N]=i.useState(!1),[l,o]=i.useState(null),[p,y]=i.useState("legend"),[v,b]=i.useState("urban"),[x,g]=i.useState("satellite"),[E,S]=i.useState(75);i.useEffect(()=>(typeof window<"u"&&s.current&&!t.current&&(m(!0),Promise.all([G(()=>import("./map-vendor-CymvPLem.js").then(r=>r.L),__vite__mapDeps([0,1,2])),G(()=>import("./index-Cm2zevuF.js").then(r=>r.l),__vite__mapDeps([3,2,1,4,5,6])),G(()=>import("./georaster.browser.bundle.min-DGhCEptZ.js").then(r=>r.g),__vite__mapDeps([7,1,8])),G(()=>import("./georaster-layer-for-leaflet-pegJW_Rw.js"),__vite__mapDeps([9,0,1,2,8]))]).then(async([r,h,A,W])=>{const C=r.map(s.current,{center:[19.4326,-99.1332],zoom:10,zoomControl:!0});t.current=C;const w=r.tileLayer("https://{s}.basemaps.cartocdn.com/light_all/{z}/{x}/{y}{r}.png",{attribution:"© CartoDB © OpenStreetMap",maxZoom:19,subdomains:"abcd"}),L=r.tileLayer("https://server.arcgisonline.com/ArcGIS/rest/services/World_Imagery/MapServer/tile/{z}/{y}/{x}",{attribution:"© Esri",maxZoom:18});L.addTo(C),C._baseLayers={street:w,satellite:L},C._currentBase="satellite";try{const Z=await(await fetch("/Portafolio/lcz-cdmx.tif")).arrayBuffer(),_=await A.default(Z),k=H=>{const z=H[0];if(z===0||z===null||z===void 0)return"rgba(0,0,0,0)";const le=ae.find(ce=>ce.id===Math.round(z)||ce.id===String.fromCharCode(64+Math.round(z)-9));return le?le.color:"#999999"},T=new W.default({georaster:_,opacity:.75,pixelValuesToColorFn:k,resolution:256});T.addTo(C),n.current=T,N(!0),m(!1)}catch(B){console.error("Error loading GeoTIFF:",B),m(!1)}r.control.scale({metric:!0,imperial:!1}).addTo(C)}).catch(r=>{console.error("Error initializing map:",r),m(!1)})),()=>{t.current&&(t.current.remove(),t.current=null)}),[]),i.useEffect(()=>{if(t.current){const r=t.current,h=r._baseLayers,A=r._currentBase;h&&A!==x&&(r.removeLayer(h[A]),h[x].addTo(r),h[x].bringToBack(),r._currentBase=x)}},[x]),i.useEffect(()=>{n.current&&n.current.setOpacity(E/100)},[E]);const j=ae.filter(r=>r.type==="urban"),D=ae.filter(r=>r.type==="natural");return e.jsx("div",{className:"py-20 px-4",children:e.jsx("div",{className:"container mx-auto",children:e.jsxs(O.div,{initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},viewport:{once:!0},children:[e.jsxs("div",{className:"text-center mb-8",children:[e.jsx(K,{variant:"outline",className:"mb-4",children:"Tesis de Maestría"}),e.jsx("h2",{className:"text-4xl font-bold mb-4",children:"Clasificación de Zonas Climáticas Locales"}),e.jsx("p",{className:"text-xl text-gray-600 dark:text-gray-400 mb-2",children:"Ciudad de México - 2,226 km²"}),e.jsxs("div",{className:"flex justify-center gap-4 flex-wrap",children:[e.jsx(K,{className:"bg-green-600",children:"83.65% Exactitud"}),e.jsx(K,{variant:"outline",children:"Kappa: 0.824"}),e.jsx(K,{variant:"outline",children:"16 Clases LCZ"}),f&&e.jsx(K,{className:"bg-blue-600",children:"GeoTIFF Cargado"})]})]}),e.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4 mb-8",children:[e.jsx(P,{children:e.jsxs(M,{className:"p-4 text-center",children:[e.jsx(de,{className:"h-6 w-6 mx-auto mb-2 text-blue-600"}),e.jsx("p",{className:"text-2xl font-bold",children:"47"}),e.jsx("p",{className:"text-xs text-gray-500",children:"Imágenes Satelitales"})]})}),e.jsx(P,{children:e.jsxs(M,{className:"p-4 text-center",children:[e.jsx(me,{className:"h-6 w-6 mx-auto mb-2 text-green-600"}),e.jsx("p",{className:"text-2xl font-bold",children:"16"}),e.jsx("p",{className:"text-xs text-gray-500",children:"Variables Predictoras"})]})}),e.jsx(P,{children:e.jsxs(M,{className:"p-4 text-center",children:[e.jsx(q,{className:"h-6 w-6 mx-auto mb-2 text-purple-600"}),e.jsx("p",{className:"text-2xl font-bold",children:"GTB"}),e.jsx("p",{className:"text-xs text-gray-500",children:"Gradient Tree Boost"})]})}),e.jsx(P,{children:e.jsxs(M,{className:"p-4 text-center",children:[e.jsx(Ke,{className:"h-6 w-6 mx-auto mb-2 text-orange-600"}),e.jsx("p",{className:"text-2xl font-bold",children:"~2.8M"}),e.jsx("p",{className:"text-xs text-gray-500",children:"Píxeles Clasificados"})]})})]}),e.jsxs("div",{className:"grid lg:grid-cols-3 gap-6 mb-6",children:[e.jsx("div",{className:"lg:col-span-2",children:e.jsxs(P,{className:"overflow-hidden h-full",children:[e.jsx(Q,{className:"pb-2",children:e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsxs(ee,{className:"text-lg flex items-center gap-2",children:[e.jsx($e,{className:"h-5 w-5"}),"Mapa Interactivo LCZ"]}),e.jsxs(ge,{size:"sm",variant:"ghost",onClick:()=>u(!c),children:[c?"Ocultar":"Mostrar"," Panel"]})]})}),e.jsxs(M,{className:"p-0",children:[e.jsxs("div",{className:"relative",children:[e.jsx("div",{ref:s,className:"h-[500px] w-full relative",style:{zIndex:0}}),d&&e.jsx("div",{className:"absolute inset-0 bg-white/80 dark:bg-gray-900/80 flex items-center justify-center z-10",children:e.jsxs("div",{className:"text-center",children:[e.jsx(He,{className:"w-8 h-8 animate-spin mx-auto mb-2 text-blue-600"}),e.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Cargando clasificación GeoTIFF..."})]})})]}),e.jsxs("div",{className:"p-3 border-t flex items-center justify-between gap-4 flex-wrap",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("span",{className:"text-xs font-medium text-gray-500",children:"Vista:"}),e.jsxs("div",{className:"flex rounded-lg overflow-hidden border",children:[e.jsx("button",{onClick:()=>g("street"),className:`px-3 py-1.5 text-xs font-medium transition-colors ${x==="street"?"bg-blue-600 text-white":"bg-white dark:bg-gray-800 hover:bg-gray-100 dark:hover:bg-gray-700"}`,children:"Mapa"}),e.jsx("button",{onClick:()=>g("satellite"),className:`px-3 py-1.5 text-xs font-medium transition-colors ${x==="satellite"?"bg-blue-600 text-white":"bg-white dark:bg-gray-800 hover:bg-gray-100 dark:hover:bg-gray-700"}`,children:"Satélite"})]})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("span",{className:"text-xs font-medium text-gray-500",children:"LCZ:"}),e.jsx(Ae,{value:[E],onValueChange:r=>S(r[0]),max:100,min:20,step:5,className:"w-24"}),e.jsxs("span",{className:"text-xs text-gray-500 w-8",children:[E,"%"]})]})]})]})]})}),c&&e.jsx("div",{className:"lg:col-span-1",children:e.jsxs(fa,{value:p,onValueChange:y,className:"h-full flex flex-col",children:[e.jsxs(Be,{className:"w-full",children:[e.jsx(ne,{value:"legend",className:"flex-1",children:"Leyenda"}),e.jsx(ne,{value:"methodology",className:"flex-1",children:"Metodología"})]}),e.jsx(ie,{value:"legend",className:"mt-2 flex-1",children:e.jsxs(P,{className:"h-[570px] flex flex-col",children:[e.jsx(Q,{className:"pb-2",children:e.jsx(ee,{className:"text-sm",children:"Clases LCZ"})}),e.jsxs(M,{className:"flex-1 overflow-y-auto",children:[e.jsxs("button",{onClick:()=>b(v==="urban"?null:"urban"),className:"w-full flex items-center justify-between p-2 hover:bg-gray-50 dark:hover:bg-gray-800 rounded",children:[e.jsxs("span",{className:"flex items-center gap-2 font-semibold text-sm",children:[e.jsx(Ge,{className:"h-4 w-4"}),"Zonas Urbanas (9)"]}),v==="urban"?e.jsx(ue,{className:"h-4 w-4"}):e.jsx(xe,{className:"h-4 w-4"})]}),e.jsx(J,{children:v==="urban"&&e.jsx(O.div,{initial:{height:0,opacity:0},animate:{height:"auto",opacity:1},exit:{height:0,opacity:0},className:"overflow-hidden",children:j.map(r=>e.jsxs("div",{onClick:()=>o(r),className:"flex items-center gap-2 p-2 hover:bg-gray-100 dark:hover:bg-gray-800 rounded cursor-pointer ml-4 group",children:[e.jsxs("div",{className:"w-10 h-10 rounded flex-shrink-0 border overflow-hidden relative",children:[e.jsx("img",{src:`/Portafolio/${r.image}`,alt:r.name,className:"w-full h-full object-cover",onError:h=>{h.currentTarget.style.display="none",h.currentTarget.nextElementSibling?.classList.remove("hidden")}}),e.jsx("div",{className:"hidden absolute inset-0 rounded",style:{backgroundColor:r.color}})]}),e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsxs("p",{className:"text-xs font-medium truncate",children:[r.code,": ",r.name]}),e.jsxs("p",{className:"text-xs text-gray-500",children:[r.percentage,"% | F1: ",r.f1Score]})]}),e.jsx(pe,{className:"h-3.5 w-3.5 text-gray-400 group-hover:text-blue-500 flex-shrink-0 transition-colors"})]},r.id))})}),e.jsxs("button",{onClick:()=>b(v==="natural"?null:"natural"),className:"w-full flex items-center justify-between p-2 hover:bg-gray-50 dark:hover:bg-gray-800 rounded mt-2",children:[e.jsxs("span",{className:"flex items-center gap-2 font-semibold text-sm",children:[e.jsx(Ue,{className:"h-4 w-4"}),"Zonas Naturales (7)"]}),v==="natural"?e.jsx(ue,{className:"h-4 w-4"}):e.jsx(xe,{className:"h-4 w-4"})]}),e.jsx(J,{children:v==="natural"&&e.jsx(O.div,{initial:{height:0,opacity:0},animate:{height:"auto",opacity:1},exit:{height:0,opacity:0},className:"overflow-hidden",children:D.map(r=>e.jsxs("div",{onClick:()=>o(r),className:"flex items-center gap-2 p-2 hover:bg-gray-100 dark:hover:bg-gray-800 rounded cursor-pointer ml-4 group",children:[e.jsxs("div",{className:"w-10 h-10 rounded flex-shrink-0 border overflow-hidden relative",children:[e.jsx("img",{src:`/Portafolio/${r.image}`,alt:r.name,className:"w-full h-full object-cover",onError:h=>{h.currentTarget.style.display="none",h.currentTarget.nextElementSibling?.classList.remove("hidden")}}),e.jsx("div",{className:"hidden absolute inset-0 rounded",style:{backgroundColor:r.color}})]}),e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsxs("p",{className:"text-xs font-medium truncate",children:[r.code,": ",r.name]}),e.jsxs("p",{className:"text-xs text-gray-500",children:[r.percentage,"% | F1: ",r.f1Score]})]}),e.jsx(pe,{className:"h-3.5 w-3.5 text-gray-400 group-hover:text-blue-500 flex-shrink-0 transition-colors"})]},r.id))})})]})]})}),e.jsx(ie,{value:"methodology",className:"mt-2 flex-1",children:e.jsx(P,{className:"h-[570px] flex flex-col",children:e.jsxs(M,{className:"flex-1 overflow-y-auto p-4 space-y-4",children:[e.jsxs("div",{children:[e.jsxs("h4",{className:"text-sm font-semibold mb-2 flex items-center gap-2",children:[e.jsx(de,{className:"h-4 w-4 text-blue-600"}),"Datos Satelitales"]}),e.jsxs("div",{className:"text-xs space-y-1 ml-6",children:[e.jsxs("p",{children:[e.jsx("strong",{children:"Sensor:"})," ",R.satellite]}),e.jsxs("p",{children:[e.jsx("strong",{children:"Resolución:"})," ",R.resolution]}),e.jsxs("p",{children:[e.jsx("strong",{children:"Período:"})," ",R.period]}),e.jsxs("p",{children:[e.jsx("strong",{children:"Imágenes:"})," ",R.images]}),e.jsxs("p",{children:[e.jsx("strong",{children:"Área:"})," ",R.area]})]})]}),e.jsxs("div",{children:[e.jsxs("h4",{className:"text-sm font-semibold mb-2 flex items-center gap-2",children:[e.jsx(me,{className:"h-4 w-4 text-green-600"}),"Variables (",R.totalVariables,")"]}),e.jsxs("div",{className:"text-xs ml-6",children:[e.jsx("p",{className:"font-medium mb-1",children:"8 Bandas Espectrales:"}),e.jsx("p",{className:"text-gray-500 mb-2",children:R.bands.join(", ")}),e.jsx("p",{className:"font-medium mb-1",children:"5 Índices:"}),e.jsx("p",{className:"text-gray-500 mb-2",children:R.indices.join(", ")}),e.jsx("p",{className:"font-medium mb-1",children:"3 Topográficas:"}),e.jsx("p",{className:"text-gray-500",children:R.topography.join(", ")})]})]}),e.jsxs("div",{children:[e.jsxs("h4",{className:"text-sm font-semibold mb-2 flex items-center gap-2",children:[e.jsx(q,{className:"h-4 w-4 text-purple-600"}),"Entrenamiento"]}),e.jsxs("div",{className:"text-xs space-y-1 ml-6",children:[e.jsxs("p",{children:[e.jsx("strong",{children:"Muestras:"})," ",R.samples]}),e.jsxs("p",{children:[e.jsx("strong",{children:"División:"})," ",R.validation]}),e.jsxs("p",{children:[e.jsx("strong",{children:"Validación:"})," Cruzada triple (semillas: 123, 456, 789)"]})]})]})]})})})]})})]}),e.jsxs(P,{children:[e.jsxs(Q,{children:[e.jsxs(ee,{className:"text-lg flex items-center gap-2",children:[e.jsx(q,{className:"h-5 w-5"}),"Comparación de Algoritmos ML"]}),e.jsx(Ye,{children:"6 algoritmos evaluados - GTB supera a Random Forest por +3.44%"})]}),e.jsx(M,{children:e.jsx("div",{className:"grid md:grid-cols-2 lg:grid-cols-3 gap-4",children:ha.map((r,h)=>e.jsxs("div",{className:"flex items-center gap-3 p-3 bg-gray-50 dark:bg-gray-800 rounded-lg",children:[e.jsx("span",{className:`w-8 h-8 rounded-full flex items-center justify-center text-sm font-bold ${h===0?"bg-green-600 text-white":h===1?"bg-blue-600 text-white":"bg-gray-200 dark:bg-gray-700"}`,children:r.rank}),e.jsxs("div",{className:"flex-1",children:[e.jsxs("div",{className:"flex justify-between items-center mb-1",children:[e.jsx("span",{className:"text-sm font-medium",children:r.name}),e.jsxs("span",{className:`text-sm font-bold ${r.color}`,children:[r.accuracy,"%"]})]}),e.jsx("div",{className:"w-full bg-gray-200 dark:bg-gray-700 rounded-full h-2",children:e.jsx("div",{className:`h-2 rounded-full ${h===0?"bg-green-600":h===1?"bg-blue-600":"bg-gray-400"}`,style:{width:`${r.accuracy}%`}})})]})]},r.name))})})]}),e.jsx(J,{children:l&&e.jsx(O.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4",onClick:()=>o(null),children:e.jsx(O.div,{initial:{scale:.9,opacity:0},animate:{scale:1,opacity:1},exit:{scale:.9,opacity:0},className:"bg-white dark:bg-gray-900 rounded-lg max-w-lg w-full max-h-[80vh] overflow-y-auto",onClick:r=>r.stopPropagation(),children:e.jsxs("div",{className:"p-6",children:[e.jsxs("div",{className:"flex justify-between items-start mb-4",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"w-4 h-12 rounded-lg",style:{backgroundColor:l.color}}),e.jsxs("div",{children:[e.jsx("h3",{className:"font-bold text-lg",children:l.code}),e.jsx("p",{className:"text-sm text-gray-500",children:l.name})]})]}),e.jsx(ge,{variant:"ghost",size:"sm",onClick:()=>o(null),children:e.jsx(Xe,{className:"h-4 w-4"})})]}),e.jsx("div",{className:"mb-4 rounded-lg overflow-hidden border",children:e.jsx("img",{src:`/Portafolio/${l.image}`,alt:l.name,className:"w-full h-48 object-cover",onError:r=>{r.currentTarget.parentElement.style.display="none"}})}),e.jsxs("div",{className:"grid grid-cols-3 gap-4 mb-4",children:[e.jsxs("div",{className:"text-center p-3 bg-gray-100 dark:bg-gray-800 rounded",children:[e.jsxs("p",{className:"text-xl font-bold text-blue-600",children:[l.area," km²"]}),e.jsx("p",{className:"text-xs text-gray-500",children:"Área"})]}),e.jsxs("div",{className:"text-center p-3 bg-gray-100 dark:bg-gray-800 rounded",children:[e.jsxs("p",{className:"text-xl font-bold text-green-600",children:[l.percentage,"%"]}),e.jsx("p",{className:"text-xs text-gray-500",children:"Cobertura"})]}),e.jsxs("div",{className:"text-center p-3 bg-gray-100 dark:bg-gray-800 rounded",children:[e.jsx("p",{className:"text-xl font-bold text-purple-600",children:l.f1Score}),e.jsx("p",{className:"text-xs text-gray-500",children:"F1-Score"})]})]}),e.jsxs("div",{className:"space-y-4 text-sm",children:[e.jsxs("div",{children:[e.jsx("h4",{className:"font-semibold mb-1",children:"Descripción"}),e.jsx("p",{className:"text-gray-600 dark:text-gray-400",children:l.description})]}),l.height&&e.jsxs("div",{children:[e.jsx("h4",{className:"font-semibold mb-1",children:"Características Físicas"}),e.jsxs("p",{className:"text-gray-600 dark:text-gray-400",children:["Altura: ",l.height,l.density&&` | Densidad: ${l.density}`,l.coverage&&` | Cobertura: ${l.coverage}`]})]}),e.jsxs("div",{children:[e.jsx("h4",{className:"font-semibold mb-1",children:"Comportamiento Climático"}),e.jsx("p",{className:"text-gray-600 dark:text-gray-400",children:l.climate})]}),e.jsxs("div",{children:[e.jsx("h4",{className:"font-semibold mb-1",children:"Ejemplos en CDMX"}),e.jsx("p",{className:"text-gray-600 dark:text-gray-400",children:l.examples})]}),e.jsxs("div",{className:"pt-2 border-t",children:[e.jsx("h4",{className:"font-semibold mb-2",children:"Métricas de Clasificación"}),e.jsxs("div",{className:"grid grid-cols-2 gap-2 text-xs",children:[e.jsxs("p",{children:[e.jsx("strong",{children:"Precisión Usuario:"})," ",l.precision,"%"]}),e.jsxs("p",{children:[e.jsx("strong",{children:"Exhaustividad:"})," ",l.recall,"%"]}),e.jsxs("p",{children:[e.jsx("strong",{children:"Píxeles:"})," ",l.pixels?.toLocaleString()]}),e.jsxs("p",{children:[e.jsx("strong",{children:"F1-Score:"})," ",l.f1Score]})]})]})]})]})})})})]})})})}export{Sa as LCZMap,Sa as default};
